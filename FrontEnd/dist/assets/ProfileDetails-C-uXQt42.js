const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ActiveTab-DZFfGxZX.js","assets/index--yLj51bn.js","assets/index-BqNJLNmp.css","assets/ApiConfigUrl-DAZoxYJA.js","assets/NotificationsTab-COtTk0ft.js","assets/ChartsTab-BpNebAeW.js","assets/UserPanelController-W513mwNR.js"])))=>i.map(i=>d[i]);
import{j as t,r as o,_ as g,u as x,c as f}from"./index--yLj51bn.js";import{a as l,A as d}from"./ApiConfigUrl-DAZoxYJA.js";const p=({user:e})=>t.jsxs("div",{className:"flex flex-wrap items-center bg-white p-6 rounded-lg shadow-md mb-6",children:[t.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-24 h-24 rounded-full mr-4 md:w-20 md:h-20 sm:w-16 sm:h-16"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-bold",children:e.name}),t.jsx("p",{className:"text-gray-600",children:e.email}),t.jsx("p",{className:"text-gray-500",children:e.accountType})]})]}),j=(e,a)=>({labels:Object.keys(e),datasets:[{label:a==="Donor"?"Offers":a==="Beneficiary"?"Requests":"Offers & Requests",data:Object.values(e),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}),_=o.lazy(()=>g(()=>import("./ActiveTab-DZFfGxZX.js"),__vite__mapDeps([0,1,2,3]))),y=o.lazy(()=>g(()=>import("./NotificationsTab-COtTk0ft.js"),__vite__mapDeps([4,1,2,3]))),v=o.lazy(()=>g(()=>import("./ChartsTab-BpNebAeW.js"),__vite__mapDeps([5,1,2]))),w=o.lazy(()=>g(()=>import("./UserPanelController-W513mwNR.js"),__vite__mapDeps([6,1,2,3]))),A=()=>{const{user:e}=x(),[a,i]=o.useState("active"),[n,c]=o.useState([]),h=n.reduce((r,s)=>{const{donationType:u,quantity:m}=s;return r[u]=r[u]?r[u]+m:m,r},{}),b=async r=>{try{await l.delete(`${d}/api/donations/${r}`),c(n.filter(s=>s.id!==r))}catch(s){console.error("Error deleting item:",s)}};return o.useEffect(()=>{async function r(){try{let s;e.role==="Donor"?(s=await l.get(`${d}/api/donations/${e._id}/offers`),c(s.data.donationOffers)):e.role==="Admin"?(s=await l.get(`${d}/api/donations/`),c(s.data)):(s=await l.get(`${d}/api/donations/${e._id}/requests`),c(s.data.donationRequests))}catch(s){console.log(s)}}r()},[e]),e?t.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen mt-7",children:[t.jsx(p,{user:e}),t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[t.jsxs("button",{onClick:()=>i("active"),className:`px-4 py-2 rounded ${a==="active"?"bg-green-500 text-white":"bg-gray-200"}`,children:["Active ",e.role==="Donor"?"Offers":e.role==="Beneficiary"?"Requests":"Offers & Requests"]}),t.jsx("button",{onClick:()=>i("notifications"),className:`px-4 py-2 rounded ${a==="notifications"?"bg-green-500 text-white":"bg-gray-200"}`,children:"Notifications"}),t.jsx("button",{onClick:()=>i("charts"),className:`px-4 py-2 rounded ${a==="charts"?"bg-green-500 text-white":"bg-gray-200"}`,children:"Charts"}),t.jsx("button",{onClick:()=>i("users"),className:`px-4 py-2 rounded ${a==="users"?"bg-green-500 text-white":"bg-gray-200"}`,children:"Users"})]}),t.jsxs(o.Suspense,{fallback:t.jsx(f,{}),children:[a==="active"&&t.jsx(_,{user:e,activeItems:n,handleDelete:b}),a==="notifications"&&t.jsx(y,{userId:e._id}),a==="charts"&&t.jsx(v,{chartData:j(h,e.role),role:e.role,items:n}),a==="users"&&(e.role==="Admin"?t.jsx(w,{}):t.jsx("div",{children:"You do not have permission to access this page."}))]})]})]}):t.jsx("div",{children:"Loading..."})};export{A as default};
